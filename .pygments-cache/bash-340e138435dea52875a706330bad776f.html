<div class="highlight"><pre><span class="nv">$ </span>cat &gt; create_flask_config.sh <span class="s">&lt;&lt; EOF</span>
<span class="s"># backends</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/amount -d &#39;5&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/maxconn/extractorfunc -d &#39;request.host&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/loadbalancer/method -d &#39;drr&#39;</span>

<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server1/url -d &#39;http://whoami5:5000&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server1/weight -d &#39;1&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server1/tags -d &#39;flask&#39;</span>

<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server2/url -d &#39;http://whoami6:5000&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server2/weight -d &#39;2&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/backends/backend3/servers/server2/tags -d &#39;flask&#39;</span>

<span class="s"># frontend:</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/frontends/frontend3/backend -d &#39;backend3&#39;</span>
<span class="s">curl -XPUT http://127.0.0.1:8500/v1/kv/traefik/frontends/frontend3/routes/test_1/rule -d &#39;Host:flask.localhost&#39;</span>
<span class="s">EOF</span>
</pre></div>