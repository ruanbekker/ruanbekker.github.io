<div class="highlight"><pre><span class="nv">$ </span>docker service create <span class="se">\</span>
--name traefik <span class="se">\</span>
--constraint <span class="s1">&#39;node.role==manager&#39;</span> <span class="se">\</span>
--publish 80:80 <span class="se">\</span>
--publish 443:443 <span class="se">\</span>
--publish 8080:8080 <span class="se">\</span>
--mount <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,source<span class="o">=</span>/var/run/docker.sock,target<span class="o">=</span>/var/run/docker.sock <span class="se">\</span>
--network appnet <span class="se">\</span>
--with-registry-auth registry.gitlab.com/&lt;user&gt;/&lt;repo&gt;/traefik:latest <span class="se">\</span>
--docker <span class="se">\</span>
--docker.swarmmode <span class="se">\</span>
--docker.domain<span class="o">=</span>apps.domain.com <span class="se">\</span>
--docker.watch <span class="se">\</span>
--logLevel<span class="o">=</span>DEBUG <span class="se">\</span>
--web
</pre></div>