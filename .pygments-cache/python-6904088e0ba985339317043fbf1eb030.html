<div class="highlight"><pre><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">job_name</span><span class="o">=</span><span class="s">&#39;my_custom_metrics&#39;</span>
<span class="n">instance_name</span><span class="o">=</span><span class="s">&#39;10.20.0.1:9000&#39;</span>
<span class="n">provider</span><span class="o">=</span><span class="s">&#39;hetzner&#39;</span>
<span class="n">payload_key</span><span class="o">=</span><span class="s">&#39;cpu_utilization&#39;</span>
<span class="n">payload_value</span><span class="o">=</span><span class="s">&#39;21.90&#39;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;http://localhost:9091/metrics/job/{j}/instance/{i}/team/{t}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">job_name</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="n">instance_name</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="n">team_name</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="s">&#39;{k} {v}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="n">payload_key</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">payload_value</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>