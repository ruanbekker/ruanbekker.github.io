<div class="highlight"><pre><span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="s">&quot;3.4&quot;</span>

<span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">traefik</span><span class="p-Indicator">:</span> 
    <span class="l-Scalar-Plain">image</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">rbekker87/armhf-traefik:1.7.0-rc3</span>
    <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--api&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--docker&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--docker.swarmmode&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--docker.domain=pistack.co.za&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--docker.watch&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--logLevel=DEBUG&quot;</span>
      <span class="p-Indicator">-</span> <span class="s">&quot;--web&quot;</span>
    <span class="l-Scalar-Plain">networks</span><span class="p-Indicator">:</span>
      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">appnet</span>
    <span class="l-Scalar-Plain">volumes</span><span class="p-Indicator">:</span>
      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">/var/run/docker.sock:/var/run/docker.sock</span>
    <span class="l-Scalar-Plain">ports</span><span class="p-Indicator">:</span>
      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">80:80</span>
      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">8080:8080</span>
    <span class="l-Scalar-Plain">deploy</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">mode</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">global</span>
      <span class="l-Scalar-Plain">restart_policy</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">condition</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">on-failure</span>
      <span class="l-Scalar-Plain">placement</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">node.role == manager</span><span class="p-Indicator">]</span>

<span class="l-Scalar-Plain">networks</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">appnet</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">external</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>