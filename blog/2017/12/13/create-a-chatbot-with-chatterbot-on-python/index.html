
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Create a Chatbot With Chatterbot on Python - Ruan Bekker's Blog</title>
  <meta name="author" content="Ruan">

  
  <meta name="description" content="So I&rsquo;ve been wanting to take a stab at chatbots for some time, and recently discovered Chatterbot, so in this tutorial I will go through some &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- font awesome --!>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- samwize.com/2012/09/24/octopress-table-stylesheet --!>
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />

  
  <link rel="canonical" href="http://blog.ruanbekker.com/blog/2017/12/13/create-a-chatbot-with-chatterbot-on-python/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ruan Bekker's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-105336110-1']);
    _gaq.push(['_setDomainName','ruanbekker.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//piwik.ruan.dev/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

  <!-- Twitter cards # www.brianbunke.com/blog/2017/09/06/twitter-cards-on-jekyll -->
<meta name="twitter:site"    content="@ruanbekker">
<meta name="twitter:creator" content="@">
<meta name="twitter:title"   content="Create a Chatbot with Chatterbot on Python">


<meta name="twitter:description" content="">



<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/567298/69000657-c093e780-08db-11ea-8464-bcd3023e9923.png">

<!-- end of Twitter cards -->

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Ruan Bekker's Blog</a></h1>
  
    <h2>From a Curious mind to Posts on Github</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://blog.ruanbekker.com/search/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="blog.ruanbekker.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories/aws/">AWS</a></li>
  <li><a href="/blog/categories/docker/">Docker</a></li>
  <li><a href="/blog/categories/devops/">DevOps</a></li>
  <li><a href="/blog/categories/python/">Python</a></li>
  <li><a target="_blank" href="https://sysadmins.co.za">My Sysadmins Blog</a></li>
  <li><a href="/awesome-links/">Awesome Links</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Create a Chatbot With Chatterbot on Python</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-12-13T15:53:50+02:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>3:53 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img src="https://chatterbot.readthedocs.io/en/stable/_images/banner.png" alt="" /></p>

<p>So I&rsquo;ve been wanting to take a stab at chatbots for some time, and recently discovered <a href="https://github.com/gunthercox/ChatterBot">Chatterbot</a>, so in this tutorial I will go through some examples on setting up a very basic chatbot.</p>

<script id="mNCC" language="javascript">
    medianet_width = "728";
    medianet_height = "90";
    medianet_crid = "218284798";
    medianet_versionId = "3111299"; 
  </script>


<script src="//contextual.media.net/nmedianet.js?cid=8CUD78FSV"></script>


<h2>Getting the Dependencies:</h2>

<p>I will be using Alpine on <a href="docker.com">Docker</a> to run all the the examples, I am using Alpine so that we have a basic container with nothing special pre-installed.</p>

<p>Chatterbot is written in Python, so let&rsquo;s install Python and Chatterbot:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>docker run -it --name chatbot alpine:edge sh
</span><span class='line'><span class="nv">$ </span>apk update <span class="o">&amp;&amp;</span> apk add python py2-pip
</span><span class='line'><span class="nv">$ </span>pip install pip --upgrade --user
</span><span class='line'><span class="nv">$ </span>pip install chatterbot
</span></code></pre></td></tr></table></div></figure>


<h2>Setup the Basic Chatbot:</h2>

<p>Now that our dependencies is installed, enter the Python interpreter where we will instantiate our Chatbot, and get a response from our Chatbot. By default the library will create a sqlite database to build up statements that is passed to and from the bot.</p>

<p>At this point, the bot is still pretty useless:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>python
</span><span class='line'>&gt;&gt;&gt; from chatterbot import ChatBot
</span><span class='line'>&gt;&gt;&gt; <span class="nv">chatbot</span> <span class="o">=</span> ChatBot<span class="o">(</span><span class="s1">&#39;Ben&#39;</span><span class="o">)</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;What is your name?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:What is your name?&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;My name is Ruan, what is your name?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:What is your name?&gt;
</span></code></pre></td></tr></table></div></figure>


<h2>Training your Bot:</h2>

<p>To enable your bot to have some knowledge, we can train the bot with training data. The training data is populated in a list, which will represent the conversation.</p>

<p>Exit the python interpreter and delete the sqlite database:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>rm -rf db.sqlite3
</span></code></pre></td></tr></table></div></figure>


<p>Now our Bot wont have any history of what we said. Start the interpreter again and add some data to train our bot. In this example, we want our Chatbot to respond when we ask it, what his name is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; from chatterbot import ChatBot
</span><span class='line'>&gt;&gt;&gt; from chatterbot.trainers import ListTrainer
</span><span class='line'>&gt;&gt;&gt; <span class="nv">chatbot</span> <span class="o">=</span> ChatBot<span class="o">(</span><span class="s1">&#39;Ben&#39;</span><span class="o">)</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.set_trainer<span class="o">(</span>ListTrainer<span class="o">)</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.train<span class="o">([</span><span class="s1">&#39;What is your name?&#39;</span>, <span class="s1">&#39;My name is Ben&#39;</span><span class="o">])</span>
</span><span class='line'>List Trainer: <span class="o">[</span><span class="c">####################] 100%</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now that we have trained our bot, let&rsquo;s try to chat to our bot:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;What is your name?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:My name is Ben&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Who is Ben?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:My name is Ben&gt;
</span></code></pre></td></tr></table></div></figure>


<p>We can also enable our bot to respond on multiple statements:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; chatbot.train<span class="o">([</span><span class="s1">&#39;Do you know someone with the name of Sarah?&#39;</span>, <span class="s1">&#39;Yes, my sisters name is Sarah&#39;</span>, <span class="s1">&#39;Is your sisters name, Sarah?&#39;</span>, <span class="s1">&#39;Faw shizzle!&#39;</span><span class="o">])</span>
</span><span class='line'>List Trainer: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;do you know someone with the name of Sarah?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Yes, my sisters name is Sarah&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;is your sisters name Sarah?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Faw shizzle!&gt;
</span></code></pre></td></tr></table></div></figure>


<p>With that said, we can define our list of statements in our code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">conversations</span> <span class="o">=</span> <span class="p">[</span>
</span><span class='line'><span class="o">...</span>     <span class="s">&#39;Are you an athlete?&#39;</span><span class="p">,</span> <span class="s">&#39;No, are you mad? I am a bot&#39;</span><span class="p">,</span>
</span><span class='line'><span class="o">...</span>     <span class="s">&#39;Do you like big bang theory?&#39;</span><span class="p">,</span> <span class="s">&#39;Bazinga!&#39;</span><span class="p">,</span>
</span><span class='line'><span class="o">...</span>     <span class="s">&#39;What is my name?&#39;</span><span class="p">,</span> <span class="s">&#39;Ruan&#39;</span><span class="p">,</span>
</span><span class='line'><span class="o">...</span>     <span class="s">&#39;What color is the sky?&#39;</span><span class="p">,</span> <span class="s">&#39;Blue, stop asking me stupid questions&#39;</span>
</span><span class='line'><span class="o">...</span> <span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">chatbot</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">conversations</span><span class="p">)</span>
</span><span class='line'><span class="n">List</span> <span class="n">Trainer</span><span class="p">:</span> <span class="p">[</span><span class="c">####################] 100%</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">chatbot</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="s">&#39;What color is the sky?&#39;</span><span class="p">)</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">Statement</span> <span class="n">text</span><span class="p">:</span><span class="n">Blue</span><span class="p">,</span> <span class="n">stop</span> <span class="n">asking</span> <span class="n">me</span> <span class="n">stupid</span> <span class="n">questions</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>So we can see it works as expected, but let&rsquo;s state one of the answers from our statements, to see what happens:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Bazinga&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:What is my name?&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Your name is Ben&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Yes, my name is Ben&gt;
</span></code></pre></td></tr></table></div></figure>


<p>So we can see it uses natural language processing to learn from the data that we provide our bot. Just to check another question:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Do you like big bang theory?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Bazinga!&gt;
</span></code></pre></td></tr></table></div></figure>


<p>If we have quite a large subset of learning data, we can add all the data in a file, seperated by new lines then we can use python to read the data from disk, and split up the data in the expected format.</p>

<p>The training file will reside in our working directory, let&rsquo;s name it <code>training-data.txt</code> and the content will look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>What is Bitcoin?
</span><span class='line'>Bitcoin is a Crypto Currency
</span><span class='line'>Where is this blog hosted?
</span><span class='line'>Github
</span></code></pre></td></tr></table></div></figure>


<p>A visual example of how we will process this data will look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; <span class="nv">data</span> <span class="o">=</span> open<span class="o">(</span><span class="s1">&#39;training-data.txt&#39;</span><span class="o">)</span>.read<span class="o">()</span>
</span><span class='line'>&gt;&gt;&gt; data.strip<span class="o">()</span>.split<span class="o">(</span><span class="s1">&#39;\n&#39;</span><span class="o">)</span>
</span><span class='line'><span class="o">[</span><span class="s1">&#39;What is Bitcoin?&#39;</span>, <span class="s1">&#39;Bitcoin is a Crypto Currency&#39;</span>, <span class="s1">&#39;Where is this blog hosted?&#39;</span>, <span class="s1">&#39;Github&#39;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>And in action, it will look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; <span class="nv">data</span> <span class="o">=</span> open<span class="o">(</span><span class="s1">&#39;training-data.txt&#39;</span><span class="o">)</span>.read<span class="o">()</span>
</span><span class='line'>&gt;&gt;&gt; <span class="nv">conversations</span> <span class="o">=</span> data.strip<span class="o">()</span>.split<span class="o">(</span><span class="s1">&#39;\n&#39;</span><span class="o">)</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.train<span class="o">(</span>conversations<span class="o">)</span>
</span><span class='line'>List Trainer: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Where is this blog hosted?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Github&gt;
</span></code></pre></td></tr></table></div></figure>


<p>There is also pre-populated data that you can use to train your bot, on the <a href="https://chatterbot.readthedocs.io/en/stable/training.html#training-with-corpus-data">documentation</a> is a couple of examples, but for demonstration, we will use the CorpusTrainer:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt;&gt; from chatterbot.trainers import ChatterBotCorpusTrainer
</span><span class='line'>&gt;&gt;&gt; chatterbot.set_trainer<span class="o">(</span>ChatterBotCorpusTrainer<span class="o">)</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.train<span class="o">(</span><span class="s2">&quot;chatterbot.corpus.english&quot;</span><span class="o">)</span>
</span><span class='line'>ai.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>botprofile.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>computers.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>conversations.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>emotion.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>food.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>gossip.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>greetings.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>history.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>humor.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>literature.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>money.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>movies.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>politics.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>psychology.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>science.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>sports.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>trivia.yml Training: <span class="o">[</span><span class="c">####################] 100%</span>
</span><span class='line'>
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Do you like peace?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:not especially. i am not into violence.&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Are you emotional?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Sort of.&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;What language do you speak?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Python.&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;What is your name?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:My name is Ben&gt;
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;Who is the President of America?&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:Richard Nixon&gt; <span class="c">#data seems outdated :D</span>
</span><span class='line'>&gt;&gt;&gt; chatbot.get_response<span class="o">(</span><span class="s1">&#39;I like cheese&#39;</span><span class="o">)</span>
</span><span class='line'>&lt;Statement text:What kind of movies <span class="k">do</span> you like?&gt;
</span></code></pre></td></tr></table></div></figure>


<h2>Using an External Database like MongoDB</h2>

<p>Instead of using sqlite on the same host, we can use a NoSQL Database like MongoDB that resides outside our application.</p>

<p>For the sake of this tutorial, I will use Docker to spin up a MongoDB Container:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>docker run -d --name mongodb -p 27017:27017 -p 28017:28017 -e <span class="nv">AUTH</span><span class="o">=</span>no -e <span class="nv">OPLOG_SIZE</span><span class="o">=</span><span class="m">50</span> tutum/mongodb
</span></code></pre></td></tr></table></div></figure>


<p>Below is my code of a terminal application that uses Chatterbot, MongoDB as a Storage Adapter, and we are using a while loop, so that we can chat with our bot, and in our except statement, we can stop our application by using our keyboard to exit:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">chatterbot</span> <span class="kn">import</span> <span class="n">ChatBot</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">chatterbot.trainers</span> <span class="kn">import</span> <span class="n">ChatterBotCorpusTrainer</span>
</span><span class='line'>
</span><span class='line'><span class="n">chatbot</span> <span class="o">=</span> <span class="n">ChatBot</span><span class="p">(</span>
</span><span class='line'>    <span class="s">&quot;Chatbot Backed by MongoDB&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">storage_adapter</span><span class="o">=</span><span class="s">&quot;chatterbot.storage.MongoDatabaseAdapter&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">database</span><span class="o">=</span><span class="s">&quot;chatterbot_db&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">database_uri</span><span class="o">=</span><span class="s">&quot;mongodb://172.17.0.3:27017/&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">logic_adapters</span><span class="o">=</span><span class="p">[</span>
</span><span class='line'>        <span class="s">&#39;chatterbot.logic.BestMatch&#39;</span>
</span><span class='line'>    <span class="p">],</span>
</span><span class='line'>    <span class="n">trainer</span><span class="o">=</span><span class="s">&#39;chatterbot.trainers.ChatterBotCorpusTrainer&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">filters</span><span class="o">=</span><span class="p">[</span>
</span><span class='line'>        <span class="s">&#39;chatterbot.filters.RepetitiveResponseFilter&#39;</span>
</span><span class='line'>    <span class="p">],</span>
</span><span class='line'>    <span class="n">input_adapter</span><span class="o">=</span><span class="s">&#39;chatterbot.input.TerminalAdapter&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="n">output_adapter</span><span class="o">=</span><span class="s">&#39;chatterbot.output.TerminalAdapter&#39;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">chatbot</span><span class="o">.</span><span class="n">set_trainer</span><span class="p">(</span><span class="n">ChatterBotCorpusTrainer</span><span class="p">)</span>
</span><span class='line'><span class="n">chatbot</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="s">&quot;chatterbot.corpus.english&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">print</span><span class="p">(</span><span class="s">&#39;Chatbot Started:&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
</span><span class='line'>    <span class="k">try</span><span class="p">:</span>
</span><span class='line'>        <span class="k">print</span><span class="p">(</span><span class="s">&quot; -&gt; You:&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="n">botInput</span> <span class="o">=</span> <span class="n">chatbot</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
</span><span class='line'>    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyboardInterrupt</span><span class="p">,</span> <span class="ne">EOFError</span><span class="p">,</span> <span class="ne">SystemExit</span><span class="p">):</span>
</span><span class='line'>        <span class="k">break</span>
</span></code></pre></td></tr></table></div></figure>


<p>Running the example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>python bot.py
</span><span class='line'> -&gt; You:
</span><span class='line'>How are you?
</span><span class='line'>I am doing well.
</span><span class='line'> -&gt; You:
</span><span class='line'>Tell me a joke
</span><span class='line'>A 3-legged dog walks into an old west saloon, slides up to the bar and announces <span class="s2">&quot;I&#39;m looking for the man who shot my paw.&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And from mongodb, we can see some data:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mongo
</span><span class='line'>&gt; show dbs
</span><span class='line'>admin          0.078GB
</span><span class='line'>chatterbot_db  0.078GB
</span><span class='line'><span class="nb">local          </span>0.078GB
</span><span class='line'>
</span><span class='line'>&gt; use chatterbot_db
</span><span class='line'>switched to db chatterbot_db
</span><span class='line'>
</span><span class='line'>&gt; show collections<span class="p">;</span>
</span><span class='line'>conversations
</span><span class='line'>statements
</span><span class='line'>system.indexes
</span><span class='line'>
</span><span class='line'>&gt; db.conversations.find<span class="o">()</span>.count<span class="o">()</span>
</span><span class='line'>4
</span><span class='line'>&gt; db.statements.find<span class="o">()</span>.count<span class="o">()</span>
</span><span class='line'>1240
</span><span class='line'>&gt; db.system.indexes.find<span class="o">()</span>.count<span class="o">()</span>
</span><span class='line'>3
</span></code></pre></td></tr></table></div></figure>


<p>That was a basic tutorial on Chatterbot, next I will be looking into mining data from Twitter&rsquo;s API and see how clever our bot can become.</p>

<h2>Resources:</h2>

<ul>
<li><a href="https://chatterbot.readthedocs.io/en/stable/quickstart.html#quick-start-guide">Chatterbot Documentation</a></li>
<li><a href="https://github.com/gunthercox/ChatterBot/tree/master/examples">Chatterbot Examples</a></li>
</ul>


<script type="text/javascript">
  ( function() {
    if (window.CHITIKA === undefined) { window.CHITIKA = { 'units' : [] }; };
    var unit = {"calltype":"async[2]","publisher":"rbekker87","width":728,"height":90,"sid":"Chitika Default"};
    var placement_id = window.CHITIKA.units.length;
    window.CHITIKA.units.push(unit);
    document.write('<div id="chitikaAdBlock-' + placement_id + '"></div>');
}());
</script>


<script type="text/javascript" src="//cdn.chitika.net/getads.js" async></script>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ruan</span></span>

      




<time class='entry-date' datetime='2017-12-13T15:53:50+02:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>3:53 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/chatbot/'>chatbot</a>, <a class='category' href='/blog/categories/docker/'>docker</a>, <a class='category' href='/blog/categories/machinelearning/'>machinelearning</a>, <a class='category' href='/blog/categories/mongodb/'>mongodb</a>, <a class='category' href='/blog/categories/python/'>python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.ruanbekker.com/blog/2017/12/13/create-a-chatbot-with-chatterbot-on-python/" data-via="ruanbekker" data-counturl="http://blog.ruanbekker.com/blog/2017/12/13/create-a-chatbot-with-chatterbot-on-python/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/12/13/ssh-host-key-warnings-with-strict-checking-enabled/" title="Previous Post: SSH Host Key Warnings with Strict Checking Enabled">&laquo; SSH Host Key Warnings with Strict Checking Enabled</a>
      
      
        <a class="basic-alignment right" href="/blog/2017/12/14/graphing-pretty-charts-with-python-flask-and-chartjs/" title="Next Post: Graphing Pretty Charts with Python Flask and Chartjs">Graphing Pretty Charts with Python Flask and Chartjs &raquo;</a>
      
    </p>
  </footer>
</article>
<!-- google advertisements
    <script data-ad-client="ca-pub-1100086574264181" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- old
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-1543437721119411",
        enable_page_level_ads: true
      });
    </script>
    -->


-->

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Subscribe</h1>
  <!-- Begin MailChimp Signup Form -->
  <div id="mc_embed_signup">
  <form action="https://sysadmins.us15.list-manage.com/subscribe/post?u=3dfcff447b6ee598231eeb658&amp;id=3542f323a9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
      <div class="indicates-required"><span class="asterisk"></span></div>
      <div class="mc-field-group">
	<label for="mce-EMAIL">Email Address:  <span class="asterisk"></span>
        </label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
        </div>
	<div id="mce-responses" class="clear">
	  <div class="response" id="mce-error-response" style="display:none"></div>
	  <div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_3dfcff447b6ee598231eeb658_3542f323a9" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
  </form>
</div>
<!--End mc_embed_signup-->
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2020/02/04/setup-gitea-and-drone-on-docker-2020-edition/">Setup Gitea and Drone on Docker 2020 Edition</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/02/01/setup-thanos-on-docker-a-highly-available-prometheus/">Setup Thanos on Docker: A Highly Available Prometheus</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/01/24/save-output-to-local-file-with-ansible/">Save Output to Local File With Ansible</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/01/24/environment-variables-with-ansible/">Environment Variables With Ansible</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/01/11/setup-a-wireguard-vpn-server-on-linux/">Setup a WireGuard VPN Server on Linux</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>T-Shirts</h1>
  <ul id=""></ul>
  <p></p>
<div id='product-component-1575492115972'></div>
<script type="text/javascript">
/*<![CDATA[*/
(function () {
  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }
  function loadScript() {
    var script = document.createElement('script');
    script.async = true;
    script.src = scriptURL;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
    script.onload = ShopifyBuyInit;
  }
  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: 'bekkerclothing.com',
      storefrontAccessToken: '68eb29a6d90539cb0321ea90bb043fae',
    });
    ShopifyBuy.UI.onReady(client).then(function (ui) {
      ui.createComponent('product', {
        id: '4392613544020',
        node: document.getElementById('product-component-1575492115972'),
        moneyFormat: '%24%7B%7Bamount%7D%7D',
        options: {
  "product": {
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "calc(25% - 20px)",
          "margin-left": "20px",
          "margin-bottom": "50px"
        }
      }
    },
    "text": {
      "button": "Add to cart"
    }
  },
  "productSet": {
    "styles": {
      "products": {
        "@media (min-width: 601px)": {
          "margin-left": "-20px"
        }
      }
    }
  },
  "modalProduct": {
    "contents": {
      "img": false,
      "imgWithCarousel": true,
      "button": false,
      "buttonWithQuantity": true
    },
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "100%",
          "margin-left": "0px",
          "margin-bottom": "0px"
        }
      }
    },
    "text": {
      "button": "Add to cart"
    }
  },
  "cart": {
    "text": {
      "total": "Subtotal",
      "button": "Checkout"
    }
  }
},
      });
    });
  }
})();
/*]]>*/
</script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - Ruan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>



  <li>
    <a href="https://twitter.com/ruanbekker">
      <i class="fa fa-twitter"></i> Twitter
    </a>
  </li>



  <li>
    <a href="https://github.com/ruanbekker">
      <i class="fa fa-github"></i> GitHub
    </a>
  </li>



  <li>
    <a href="https://sysadmins.co.za">
      <i class="fa fa-bars"></i> My HowTo Blog
    </a>
  </li>


</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'blog-ruanbekker';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.ruanbekker.com/blog/2017/12/13/create-a-chatbot-with-chatterbot-on-python/';
        var disqus_url = 'http://blog.ruanbekker.com/blog/2017/12/13/create-a-chatbot-with-chatterbot-on-python/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





      <script data-ad-client="ca-pub-1100086574264181" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- old
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-1543437721119411",
        enable_page_level_ads: true
      });
    </script>
    -->


</body>
</html>
