<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Flask-restful | Ruan Bekker's Blog]]></title>
  <link href="https://blog.ruanbekker.com/blog/categories/flask-restful/atom.xml" rel="self"/>
  <link href="https://blog.ruanbekker.com/"/>
  <updated>2022-03-20T17:52:20-04:00</updated>
  <id>https://blog.ruanbekker.com/</id>
  <author>
    <name><![CDATA[Ruan]]></name>
    <email><![CDATA[ruan@ruanbekker.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Run a Basic Python Flask Restful API]]></title>
    <link href="https://blog.ruanbekker.com/blog/2022/03/20/run-a-basic-python-flask-restful-api/"/>
    <updated>2022-03-20T17:33:17-04:00</updated>
    <id>https://blog.ruanbekker.com/blog/2022/03/20/run-a-basic-python-flask-restful-api</id>
    <content type="html"><![CDATA[<p>In this tutorial we will run a basic api using flask-restful, it will only have one route which is a get method for the purpose of demonstration.</p>

<h2>What is Flask Restful</h2>

<p><a href="https://flask-restful.readthedocs.io/en/latest/index.html">Flask-RESTful</a> is an extension for <a href="https://flask.palletsprojects.com/en/2.0.x/">Flask</a> that adds support for quickly building REST APIs. It is a lightweight abstraction that works with your existing ORM/libraries. Flask-RESTful encourages best practices with minimal setup.</p>

<p>If you want to see a basic Flask API post, you can follow the link below:
- <a href="https://blog.ruanbekker.com/blog/2018/11/27/python-flask-tutorial-series-create-a-hello-world-app-p1/">https://blog.ruanbekker.com/blog/2018/11/27/python-flask-tutorial-series-create-a-hello-world-app-p1/</a></p>

<h2>Installation</h2>

<p>Install Flask and Flask Restful:</p>

<pre><code class="bash">python3 -m pip install flask
python3 -m pip install flask-restful
</code></pre>

<h2>Code</h2>

<p>The basic code we will have is to have one get method available that will return <code>{"hello": "world"}</code>:</p>

<pre><code class="python">import flask
import flask_restful

app = flask.Flask(__name__)
api = flask_restful.Api(app)

class HelloWorld(flask_restful.Resource):
    def get(self):
        return {'hello': 'world'}

api.add_resource(HelloWorld, '/')

if __name__ == "__main__":
    app.run(debug=True)
</code></pre>

<h2>Run the Server</h2>

<p>Run the server:</p>

<pre><code class="bash">python api.py
</code></pre>

<p>Then make a get request:</p>

<pre><code class="bash">curl http://localhost:5000/
</code></pre>

<p>The response should be the following:</p>

<pre><code class="json">{
    "hello": "world"
}
</code></pre>

<h2>Integration Tests</h2>

<p>We can setup integration tests with <code>unittest</code> by creating <code>test_api.py</code>:</p>

<pre><code class="python">import unittest
import app as api

class TestFlaskApi(unittest.TestCase):
    def setUp(self):
        self.app = api.app.test_client()

    def test_hello_world(self):
        response = self.app.get("/")
        self.assertEqual(
            response.get_json(),
            {"hello": "world"},
        )

if __name__ == '__main__':
    unittest.main()
</code></pre>

<p>Then we can run our test with:</p>

<pre><code class="bash">python -m unittest discover -p test_app.py
</code></pre>

<p>Since our test is expecting <code>{"hello": "world"}</code> and our server is returning that the output of our tests should be:</p>

<pre><code class="bash">.
----------------------------------------------------------------------
Ran 1 test in 0.007s

OK
</code></pre>

<h2>More on Flask-Restful</h2>

<p>This was a very basic example and their <a href="https://flask-restful.readthedocs.io/en/latest/quickstart.html">documentation</a> provides a great tutorial on how to extend from this example.</p>

<h2>Thank You</h2>

<p>Thanks for reading, if you like my content, check out my <strong><a href="https://ruan.dev">website</a></strong>, read my <strong><a href="http://digests.ruanbekker.com/?via=ruanbekker-blog">newsletter</a></strong> or follow me at <strong><a href="https://twitter.com/ruanbekker">@ruanbekker</a></strong> on Twitter.</p>
]]></content>
  </entry>
  
</feed>
